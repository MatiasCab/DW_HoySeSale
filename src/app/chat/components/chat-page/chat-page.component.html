<div class="mx-3" *ngIf="isMobile && chatsPreview">
    <app-header-navbar [currentText]="'CHATS'"></app-header-navbar>
    <div class="mt-1">
        <app-search-input (searchEvent)="searchChat($event)"></app-search-input>
        <div class="mt-3">
            <app-chat-grid [routering]="isMobile" [chatsPreview]="chatsPreview"></app-chat-grid>
        </div>
    </div>
</div>

<div class="container" *ngIf="!isMobile && chatsPreview && chatsPreview.length != 0">
    <div class="row">
        <div class="col-4 searchInput">
            <app-search-input class="w-100" (searchEvent)="searchChat($event)"></app-search-input>
        </div>
        <div class="col-8">
            <a routerLink="/entertainments/locals/{{localId}}" class="text-decoration-none">
                <div class="row border-bottom">
                    <div class="col-auto p-0 my-3">
                        <div class="user-photo-chatPreview">
                            <app-user-photo [imageURL]="selectedChat?.imageLink"></app-user-photo>
                        </div>
                    </div>
                    <div class="col text-light my-3">
                        <h5 class="text-uppercase">{{selectedChat?.name}}</h5>
                    </div>
                </div>
            </a>
        </div>
    </div>
    <div class="row h-100">
        <div class="col-4 colum pt-3">
            <app-chat-grid [chatsPreview]="chatsPreview" (chatSelected)="chatSelected($event)"></app-chat-grid>
        </div>
        <div class="col-8 messagesView colum">
            <app-message-grid #messageGrid class="margin width pb-2" [messages]="messages"></app-message-grid>
            <div class="bottom-position pb-1 margin">
                <app-input-message (message)="sendMessage($event)"></app-input-message>
            </div>
        </div>
    </div>
</div>

<div *ngIf="!chatsPreview" class="spinner">
    <div class="spinner-border" role="status">
    </div>
</div>

<div *ngIf="chatsPreview && chatsPreview.length == 0">
    <div class="emptyChat">
        <p class="empty-title mt-5">Usted no ha iniciado ning√∫n chat</p>
    </div>
</div>